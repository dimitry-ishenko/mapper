////////////////////////////////////////////////////////////////////////////////
#include "input.hpp"

#include <stdexcept>

#include <linux/input.h>

////////////////////////////////////////////////////////////////////////////////
namespace app
{

////////////////////////////////////////////////////////////////////////////////
void input::open()
{
    if(is_open()) throw std::runtime_error("input::open(): Already open");

    new(this) storage::file(_M_path, storage::open::read);
    if(_M_exclusive) control(EVIOCGRAB, 1);
}

////////////////////////////////////////////////////////////////////////////////
}
