////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2015 Dimitry Ishenko
// Distributed under the GNU GPL v2. For full terms please visit:
// http://www.gnu.org/licenses/gpl.html
//
// Contact: dimitry (dot) ishenko (at) (gee) mail (dot) com

////////////////////////////////////////////////////////////////////////////////
#include "input.hpp"

#include <stdexcept>

#include <linux/input.h>

////////////////////////////////////////////////////////////////////////////////
namespace app
{

////////////////////////////////////////////////////////////////////////////////
void input::open()
{
    if(is_open()) throw std::runtime_error("input::open(): Already open");

    new(this) storage::file(_M_path, storage::open::read);
    if(_M_exclusive) control(EVIOCGRAB, 1);
}

////////////////////////////////////////////////////////////////////////////////
}
